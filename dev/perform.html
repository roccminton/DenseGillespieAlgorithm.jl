<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Performance Tips · DenseGillespieAlgorithm.jl</title><meta name="title" content="Performance Tips · DenseGillespieAlgorithm.jl"/><meta property="og:title" content="Performance Tips · DenseGillespieAlgorithm.jl"/><meta property="twitter:title" content="Performance Tips · DenseGillespieAlgorithm.jl"/><meta name="description" content="Documentation for DenseGillespieAlgorithm.jl."/><meta property="og:description" content="Documentation for DenseGillespieAlgorithm.jl."/><meta property="twitter:description" content="Documentation for DenseGillespieAlgorithm.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="DGAPackage.html"><img src="assets/logo.png" alt="DenseGillespieAlgorithm.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="DGAPackage.html">DenseGillespieAlgorithm.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="DGAPackage.html">Home</a></li><li><a class="tocitem" href="manual.html">Manual</a></li><li><a class="tocitem" href="examples.html">Examples</a></li><li class="is-active"><a class="tocitem" href="perform.html">Performance Tips</a><ul class="internal"><li><a class="tocitem" href="#Julia-performance-tips-and-benchmarking"><span>Julia performance tips and benchmarking</span></a></li><li><a class="tocitem" href="#Natural-bottleneck-in-Gillespies-Algorithm"><span>Natural bottleneck in Gillespies Algorithm</span></a></li><li><a class="tocitem" href="#Reuse-memory-space"><span>Reuse memory space</span></a></li><li><a class="tocitem" href="#Recalculate-vs.-update"><span>Recalculate vs. update</span></a></li><li><a class="tocitem" href="#Keep-calm"><span>Keep calm</span></a></li></ul></li><li><a class="tocitem" href="index.html">Public API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="perform.html">Performance Tips</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="perform.html">Performance Tips</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/roccminton/DenseGillespieAlgorithm.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/roccminton/DenseGillespieAlgorithm.jl/blob/main/docs/src/perform.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Performance-tips"><a class="docs-heading-anchor" href="#Performance-tips">Performance tips</a><a id="Performance-tips-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-tips" title="Permalink"></a></h1><p>One of the key benefits of the Gillespie algorithm is its ability to trace a single, precise stochastic trajectory. Nevertheless, in order to achieve this for each individual event, the rates must be calculated and re-calculated whenever there is a change in the population configuration. This makes the algorithm computationally demanding. There are numerous modifications that can be made in order to enhance performance, such as <span>$\tau$</span>-leaping<sup class="footnote-reference"><a id="citeref-Gillespie01" href="#footnote-Gillespie01">[Gillespie01]</a></sup>. However, in this section, our objective is to maintain the precision of the stochastic simulation and to identify potential bottlenecks and strategies for optimising the performance of the simulation in its current form.</p><h2 id="Julia-performance-tips-and-benchmarking"><a class="docs-heading-anchor" href="#Julia-performance-tips-and-benchmarking">Julia performance tips and benchmarking</a><a id="Julia-performance-tips-and-benchmarking-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-performance-tips-and-benchmarking" title="Permalink"></a></h2><p>The Julia documentation contains a comprehensive and invaluable array of <a href="https://docs.julialang.org/en/v1/manual/performance-tips/">performance tips</a>. Should you encounter any unexpected delays in your simulations, we advise you to consult these tips. It is likely that you will find a solution to the problem by following the guidance provided. Additionally, we recommend that you review the <a href="https://docs.julialang.org/en/v1/manual/workflow-tips/">workflow tips</a> and the <a href="https://docs.julialang.org/en/v1/manual/style-guide/">style guide</a>. These resources assist in enhancing the efficiency, readability, and overall quality of your code. In particular, we recommend these chapters of the documentation for researchers who are new to Julia. To assess the efficacy of the functions within your model, Julia offers an exemplary benchmarking package called <a href="https://juliaci.github.io/BenchmarkTools.jl/stable/">BenchmarkingTools.jl</a>. This enables the comparison of different versions of your code, facilitating the selection of the most optimal version.</p><h2 id="Natural-bottleneck-in-Gillespies-Algorithm"><a class="docs-heading-anchor" href="#Natural-bottleneck-in-Gillespies-Algorithm">Natural bottleneck in Gillespies Algorithm</a><a id="Natural-bottleneck-in-Gillespies-Algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#Natural-bottleneck-in-Gillespies-Algorithm" title="Permalink"></a></h2><p>It should be noted that both the <code>rates!</code> and <code>execute!</code> functions will be called a considerable number of times during the course of the simulation. To illustrate, consider a species with a reproduction rate of <span>$1$</span> within a population of <span>$1\,000$</span> individuals over a time horizon of <span>$1\,000$</span> generations. In this scenario, the <code>rates!</code> and <code>execute!</code> functions will be called approximately one million times solely for reproduction events. Consequently, it is crucial to implement these functions with optimal performance. Every millisecond gained, every byte saved can significantly impact the runtime and efficiency of the program.</p><h2 id="Reuse-memory-space"><a class="docs-heading-anchor" href="#Reuse-memory-space">Reuse memory space</a><a id="Reuse-memory-space-1"></a><a class="docs-heading-anchor-permalink" href="#Reuse-memory-space" title="Permalink"></a></h2><p>Avoid to recreate containers such as arrays or dictionaries, particularly within the <code>execute!</code> and <code>rates!</code> function. Reuse of these containers is preferable to the allocation of new memory space with each iteration. The accumulation of data over the course of a simulation can lead to a reduction in performance.</p><h2 id="Recalculate-vs.-update"><a class="docs-heading-anchor" href="#Recalculate-vs.-update">Recalculate vs. update</a><a id="Recalculate-vs.-update-1"></a><a class="docs-heading-anchor-permalink" href="#Recalculate-vs.-update" title="Permalink"></a></h2><p>In certain scenarios, it is preferable to recalculate data from the current population state rather than update the data after every event, depending on the model and model parameter in question. For other models the opposite is may be true. In cases where there is uncertainty about the optimal implementation strategy, it is recommended to implement both versions and evaluate their performance using the <a href="https://juliaci.github.io/BenchmarkTools.jl/stable/">BenchmarkingTools.jl</a> package. This is the case for the event rates, which should be recalculated or updated depending on the circumstances and for the additional statistics that may be saved. However, it should be noted that the <code>rates!</code> function is usually called much more frequently than the <code>statistics!</code> function. The statistics are saved at regular intervals, as specified by the time horizon input to the algorithm, whereas the rates function is called after each event.</p><h2 id="Keep-calm"><a class="docs-heading-anchor" href="#Keep-calm">Keep calm</a><a id="Keep-calm-1"></a><a class="docs-heading-anchor-permalink" href="#Keep-calm" title="Permalink"></a></h2><p>The Gillespie Algorithm is a computationally intensive algorithm due to its exact nature. Following the implementation of complex networks on a high-dimensional trait space, the execution may require a significant amount of time. It is recommended to test the algorithm on a smaller scale, benchmark and adapt functions regularly, and only to be concerned if the time required to produce the simulation is unexpectedly long or if a disproportionate amount of memory is allocated. Otherwise, grab a coffee and check out the <a href="https://github.com/timholy/ProgressMeter.jl">progress meter</a> to see how things are going with the simulation.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-Gillespie01"><a class="tag is-link" href="#citeref-Gillespie01">Gillespie01</a>D.T. Gillespie. Approximate accelerated stochastic simulation of chemically reacting systems. <em>Journal of Chemical Physics</em>, 115(4):1716-1733, 2001</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="examples.html">« Examples</a><a class="docs-footer-nextpage" href="index.html">Public API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 25 September 2024 10:55">Wednesday 25 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
